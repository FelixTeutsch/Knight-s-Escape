// Create Game Manager
let gameManager = new GameManager();
let canvas = new Canvas("canvas");
let player;
let enemy;
let score = 0;
let scoreCounter;
let moveLeft;
let moveRight;
let canvasSize = {
    width: 0,
    height: 0
}
let exit;
let spriteLoader;

let LOGGER = new Logger(true);

let gameOver = false;

let gameStarted = false;

let levelOne = [
    ["1","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","2",],
    ["l"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","r",],
    ["l"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","r",],
    ["l"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","c"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","r",],
    ["l"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","^"," "," ","x"," "," "," "," "," "," "," "," "," "," ","x"," "," "," "," "," "," "," "," "," ","<","═","═","═","═",">"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","r",],
    ["l"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","├","═","═","═","═",">"," "," "," "," "," "," ","┌","b","b","b","b","┐"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","^"," "," "," ","e"," "," "," ","^"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","r",],
    ["l"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","^"," "," ","e"," ","^"," "," "," ","╔","═","═","═","═","═","═","╝"," "," "," "," "," "," "," "," "," ","┌","b","4","■","■","■","■","l"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","╚","═","═","═","═","═","═","═","╝"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","r",],
    ["l"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","╚","═","═","═","═","╝"," "," ","<","╝"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","└","t","t","t","t","t","t","┘"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","<","═","═","═","═",">"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","r",],
    ["l"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","r",],
    ["l"," "," "," "," "," "," "," "," "," "," "," ","┌","b","┐"," "," "," "," "," "," "," "," "," "," "," "," ","c"," "," "," "," "," "," "," "," ","c"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","r",],
    ["l"," "," "," "," "," "," "," "," "," ","┌","b","4","■","l"," "," "," "," "," "," "," ","<","═","═","═","═","═","═","═","═","═","═","═","═","═","═","═","═","═","═","═",">"," "," "," "," "," "," ","┌","b","b","b","┐"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","r",],
    ["l"," "," "," "," "," "," "," "," "," ","└","t","2","■","3","b","┐"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","┌","4","■","■","■","3","b","b","┐"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","g"," "," "," "," "," "," "," ","r",],
    ["l"," "," "," ","p"," "," "," "," "," "," "," ","r","■","■","■","l"," "," "," "," "," "," "," "," "," "," "," ","e"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","r","■","■","■","■","■","■","■","l"," "," "," "," "," "," "," "," ","e"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","┌","b","b","b","b","b","┐"," "," ","r",],
    ["3","b","b","b","b","b","b","b","b","b","b","b","4","■","■","■","3","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","4","■","■","■","■","■","■","■","3","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","b","4","■","■","■","■","■","3","b","b","4",]

];

function increaseScore(val) {
    score += val;
    LOGGER.log("New Score:", val);
}

function startGame() {
    if (!this.gameStarted) {
        gameStarted = true;
        document.getElementById('background').style.visibility = "visible";
        spriteLoader = new SpriteLoader(levelOne);
        requestAnimationFrame(gameManager.gameLoop);
    } else
        return "HALT STOP!";
}

canvas.setCanvasToGameManager();